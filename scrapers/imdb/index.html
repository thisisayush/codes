<!DOCTYPE html>
<html>
    <head>
        <title>IMDB Scraper</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
    </head>
    <body>
	<h1>0</h1>
        <table>
            <tr>
                <th>Title</th>
                <th>Rating</th>
                <th>Description</th>
            </tr>
        </table>
        <script>
            $(document).ready(function(e){
		var columns = [{
			field: 'title',
			title: 'Title',
			sortable: true
		},{
			field: 'description',
			title: 'Description',
		}, {
			field: 'rating',
			title: 'Rating',
			sortable: true
		}, {
			field: 'year',
			title: 'Year',
			sortable: true
		}];
		$("table").bootstrapTable({
			url: 'movies.json',
			columns: columns,
			showRefresh: true,
			search: true,
			pagination: true,
			cache: false
		});
		
		setInterval(function(){
			$("table").bootstrapTable("refresh", {silent: true});
		}, 2000);

		/** 
		setInterval(function(){
	                $.getJSON("movies.json", function(response){
        	            r = response;
                	    processResponse(r);
	                });
        	        function processResponse(r){
			    $("h1").html("0");
   			    $("table").html("<tr><th>Title</th><th>Description</th><th>Rating</th><th>Year</th>");
                	    $.each(r, function(key, value){
				$("h1").html(parseInt($("h1").html())+1);
                        	$("table").append("<tr><td>"+value.title+"</td><td>"+value.description+"</td><td>"+value.rating+"</td><td>"+value.year+"</td>");
	                    });
        	        }
		}, 10000);
		**/
            });
        </script>
    </body>
</html>
